{
  "instrumentation": {
    "testOp": {
      "description": "Test instrumentation",
      "rules": [{
        "ruleName": "Trace testOp entry",
        "className": "org.hawkular.btm.tests.client.jav.TopLevelService",
        "methodName": "testOp",
        "location": "ENTRY",
        "parameterTypes": [
           "java.lang.String",
           "int"
        ],
        "actions": [{
          "type": "InstrumentService",
          "uriExpression": "\"TopLevelService\"",
          "operationExpression": "\"testOp\""
        },{
          "type": "ProcessContent",
          "valueExpressions": [
            "$1",
            "$2"
          ]
        }]
      },{
        "ruleName": "Trace testOp exit",
        "className": "org.hawkular.btm.tests.client.jav.TopLevelService",
        "methodName": "testOp",
        "location": "EXIT",
        "parameterTypes": [
           "java.lang.String",
           "int"
        ],
        "actions": [{
          "type": "ProcessContent",
          "direction": "Response",
          "valueExpressions": [
            "$1",
            "$2"
          ]
        },{
          "type": "InstrumentService",
          "direction": "Response",
          "uriExpression": "\"TopLevelService\"",
          "operationExpression": "\"testOp\""
        }]
      },{
        "ruleName": "Trace join entry",
        "className": "org.hawkular.btm.tests.client.jav.InnerService",
        "methodName": "join",
        "parameterTypes": [
           "java.lang.String",
           "int"
        ],
        "location": "ENTRY",
        "actions": [{
          "type": "InstrumentService",
          "uriExpression": "\"InnerService\"",
          "operationExpression": "\"join\""
        },{
          "type": "ProcessContent",
          "valueExpressions": [
            "$1",
            "$2"
          ]
        }]
      },{
        "ruleName": "Trace join exit",
        "className": "org.hawkular.btm.tests.client.jav.InnerService",
        "methodName": "join",
        "parameterTypes": [
           "java.lang.String",
           "int"
        ],
        "location": "EXIT",
        "actions": [{
          "type": "ProcessContent",
          "direction": "Response",
          "valueExpressions": [
            "$!"
          ]
        },{
          "type": "InstrumentService",
          "direction": "Response",
          "uriExpression": "\"InnerService\"",
          "operationExpression": "\"join\""
        }]
      }]
    }
  }
}